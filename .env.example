# Copy to .env and fill in your values:
#   cp .env.example .env

# ── PostgreSQL ────────────────────────────────────────────────────────────────
POSTGRES_USER=homekit
POSTGRES_PASSWORD=changeme
POSTGRES_DB=homekit_events

# ── Listener / API ────────────────────────────────────────────────────────────
# Port the REST API listens on (also used by the web container to proxy requests)
API_PORT=3001
NODE_ENV=production
# Optional write auth token. When set, listener requires this token for
# POST/PATCH/DELETE requests (via X-API-Token or Authorization: Bearer ...).
API_TOKEN=

# Delay (ms) before logging OFF for switches named like "run leveling" / "run clean cycle".
# Helps treat instant auto-reset switches as "cycle complete" signals.
RUN_CYCLE_OFF_DELAY_MS=900000
# Webhook timeout (ms) for alert deliveries.
ALERTS_WEBHOOK_TIMEOUT_MS=5000

# Background refresh for pairings/rooms cache loaded from JSON files.
STORE_REFRESH_INTERVAL_MS=30000

# Retention policy for event_logs.
# Old rows are moved to event_logs_archive then deleted (if RETENTION_ARCHIVE=true).
RETENTION_DAYS=365
RETENTION_SWEEP_MS=86400000
RETENTION_ARCHIVE=true
